import{j as se}from"./jsx-runtime-D_zvdyIk.js";import{e as F,r as oe}from"./iframe-BOJPVMOS.js";import{S as Mt}from"./index-D7IJBL__.js";import{c as Ae}from"./utils-D-KgF5mV.js";import{L as Rt}from"./index-BKeBSz-d.js";import"./index-CNScOgyx.js";import"./index-D9xwLiFV.js";import"./index-Djv3Jycn.js";import"./index-BYBo-iH0.js";import"./index-BRLsZQr2.js";import"./index-DprfdVnq.js";import"./index-DIhhUbu0.js";import"./index-DPxCTBKv.js";import"./index-DjZ3ua8e.js";var me=e=>e.type==="checkbox",ae=e=>e instanceof Date,O=e=>e==null;const ut=e=>typeof e=="object";var L=e=>!O(e)&&!Array.isArray(e)&&ut(e)&&!ae(e),dt=e=>L(e)&&e.target?me(e.target)?e.target.checked:e.target.value:e,Tt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ft=(e,s)=>e.has(Tt(s)),Nt=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function R(e){let s;const t=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Te&&(e instanceof Blob||a))&&(t||L(e)))if(s=t?[]:{},!t&&!Nt(e))s=e;else for(const o in e)e.hasOwnProperty(o)&&(s[o]=R(e[o]));else return e;return s}var we=e=>/^\w*$/.test(e),I=e=>e===void 0,Ne=e=>Array.isArray(e)?e.filter(Boolean):[],Oe=e=>Ne(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!L(e))return t;const a=(we(s)?[s]:Oe(s)).reduce((o,n)=>O(o)?o:o[n],e);return I(a)||a===e?I(e[s])?t:e[s]:a},W=e=>typeof e=="boolean",D=(e,s,t)=>{let a=-1;const o=we(s)?[s]:Oe(s),n=o.length,f=n-1;for(;++a<n;){const c=o[a];let b=t;if(a!==f){const T=e[c];b=L(T)||Array.isArray(T)?T:isNaN(+o[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=b,e=e[c]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ue=F.createContext(null);Ue.displayName="HookFormContext";const De=()=>F.useContext(Ue),Ot=e=>{const{children:s,...t}=e;return F.createElement(Ue.Provider,{value:t},s)};var ct=(e,s,t,a=!0)=>{const o={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const f=n;return s._proxyFormState[f]!==K.all&&(s._proxyFormState[f]=!a||K.all),t&&(t[f]=!0),e[f]}});return o};const Pe=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function yt(e){const s=De(),{control:t=s.control,disabled:a,name:o,exact:n}=e||{},[f,c]=F.useState(t._formState),b=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>t._subscribe({name:o,formState:b.current,exact:n,callback:T=>{!a&&c({...t._formState,...T})}}),[o,a,n]),F.useEffect(()=>{b.current.isValid&&t._setValid(!0)},[t]),F.useMemo(()=>ct(f,t,b.current,!1),[f,t])}var J=e=>typeof e=="string",mt=(e,s,t,a,o)=>J(e)?(a&&s.watch.add(e),y(t,e,o)):Array.isArray(e)?e.map(n=>(a&&s.watch.add(n),y(t,n))):(a&&(s.watchAll=!0),t);function Ut(e){const s=De(),{control:t=s.control,name:a,defaultValue:o,disabled:n,exact:f}=e||{},c=F.useRef(o),[b,T]=F.useState(t._getWatch(a,c.current));return Pe(()=>t._subscribe({name:a,formState:{values:!0},exact:f,callback:V=>!n&&T(mt(a,t._names,V.values||t._formValues,!1,c.current))}),[a,t,n,f]),F.useEffect(()=>t._removeUnmounted()),b}function Pt(e){const s=De(),{name:t,disabled:a,control:o=s.control,shouldUnregister:n}=e,f=ft(o._names.array,t),c=Ut({control:o,name:t,defaultValue:y(o._formValues,t,y(o._defaultValues,t,e.defaultValue)),exact:!0}),b=yt({control:o,name:t,exact:!0}),T=F.useRef(e),V=F.useRef(o.register(t,{...e.rules,value:c,...W(e.disabled)?{disabled:e.disabled}:{}})),S=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(b.validatingFields,t)},error:{enumerable:!0,get:()=>y(b.errors,t)}}),[b,t]),h=F.useCallback(k=>V.current.onChange({target:{value:dt(k),name:t},type:_e.CHANGE}),[t]),Z=F.useCallback(()=>V.current.onBlur({target:{value:y(o._formValues,t),name:t},type:_e.BLUR}),[t,o._formValues]),H=F.useCallback(k=>{const Q=y(o._fields,t);Q&&k&&(Q._f.ref={focus:()=>k.focus&&k.focus(),select:()=>k.select&&k.select(),setCustomValidity:v=>k.setCustomValidity(v),reportValidity:()=>k.reportValidity()})},[o._fields,t]),E=F.useMemo(()=>({name:t,value:c,...W(a)||b.disabled?{disabled:b.disabled||a}:{},onChange:h,onBlur:Z,ref:H}),[t,a,b.disabled,h,Z,H,c]);return F.useEffect(()=>{const k=o._options.shouldUnregister||n;o.register(t,{...T.current.rules,...W(T.current.disabled)?{disabled:T.current.disabled}:{}});const Q=(v,$)=>{const U=y(o._fields,v);U&&U._f&&(U._f.mount=$)};if(Q(t,!0),k){const v=R(y(o._options.defaultValues,t));D(o._defaultValues,t,v),I(y(o._formValues,t))&&D(o._formValues,t,v)}return!f&&o.register(t),()=>{(f?k&&!o._state.action:k)?o.unregister(t):Q(t,!1)}},[t,o,f,n]),F.useEffect(()=>{o._setDisabledField({disabled:a,name:t})},[a,t,o]),F.useMemo(()=>({field:E,formState:b,fieldState:S}),[E,b,S])}const Bt=e=>e.render(Pt(e));var Wt=(e,s,t,a,o)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:o||!0}}:{},ce=e=>Array.isArray(e)?e:[e],Xe=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Re=e=>O(e)||!ut(e);function re(e,s,t=new WeakSet){if(Re(e)||Re(s))return e===s;if(ae(e)&&ae(s))return e.getTime()===s.getTime();const a=Object.keys(e),o=Object.keys(s);if(a.length!==o.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const n of a){const f=e[n];if(!o.includes(n))return!1;if(n!=="ref"){const c=s[n];if(ae(f)&&ae(c)||L(f)&&L(c)||Array.isArray(f)&&Array.isArray(c)?!re(f,c,t):f!==c)return!1}}return!0}var B=e=>L(e)&&!Object.keys(e).length,Be=e=>e.type==="file",z=e=>typeof e=="function",Fe=e=>{if(!Te)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},gt=e=>e.type==="select-multiple",We=e=>e.type==="radio",qt=e=>We(e)||me(e),Me=e=>Fe(e)&&e.isConnected;function Ht(e,s){const t=s.slice(0,-1).length;let a=0;for(;a<t;)e=I(e)?a++:e[s[a++]];return e}function $t(e){for(const s in e)if(e.hasOwnProperty(s)&&!I(e[s]))return!1;return!0}function p(e,s){const t=Array.isArray(s)?s:we(s)?[s]:Oe(s),a=t.length===1?e:Ht(e,t),o=t.length-1,n=t[o];return a&&delete a[n],o!==0&&(L(a)&&B(a)||Array.isArray(a)&&$t(a))&&p(e,t.slice(0,-1)),e}var ht=e=>{for(const s in e)if(z(e[s]))return!0;return!1};function Ve(e,s={}){const t=Array.isArray(e);if(L(e)||t)for(const a in e)Array.isArray(e[a])||L(e[a])&&!ht(e[a])?(s[a]=Array.isArray(e[a])?[]:{},Ve(e[a],s[a])):O(e[a])||(s[a]=!0);return s}function vt(e,s,t){const a=Array.isArray(e);if(L(e)||a)for(const o in e)Array.isArray(e[o])||L(e[o])&&!ht(e[o])?I(s)||Re(t[o])?t[o]=Array.isArray(e[o])?Ve(e[o],[]):{...Ve(e[o])}:vt(e[o],O(s)?{}:s[o],t[o]):t[o]=!re(e[o],s[o]);return t}var de=(e,s)=>vt(e,s,Ve(s));const Ze={value:!1,isValid:!1},et={value:!0,isValid:!0};var bt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!I(e[0].attributes.value)?I(e[0].value)||e[0].value===""?et:{value:e[0].value,isValid:!0}:et:Ze}return Ze},_t=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:a})=>I(e)?e:s?e===""?NaN:e&&+e:t&&J(e)?new Date(e):a?a(e):e;const tt={isValid:!1,value:null};var Ft=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,tt):tt;function rt(e){const s=e.ref;return Be(s)?s.files:We(s)?Ft(e.refs).value:gt(s)?[...s.selectedOptions].map(({value:t})=>t):me(s)?bt(e.refs).value:_t(I(s.value)?e.ref.value:s.value,e)}var jt=(e,s,t,a)=>{const o={};for(const n of e){const f=y(s,n);f&&D(o,n,f._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:a}},xe=e=>e instanceof RegExp,fe=e=>I(e)?e:xe(e)?e.source:L(e)?xe(e.value)?e.value.source:e.value:e,st=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched});const it="AsyncFunction";var Kt=e=>!!e&&!!e.validate&&!!(z(e.validate)&&e.validate.constructor.name===it||L(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===it)),zt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),at=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const ye=(e,s,t,a)=>{for(const o of t||Object.keys(e)){const n=y(e,o);if(n){const{_f:f,...c}=n;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],o)&&!a)return!0;if(f.ref&&s(f.ref,f.name)&&!a)return!0;if(ye(c,s))break}else if(L(c)&&ye(c,s))break}}};function ot(e,s,t){const a=y(e,t);if(a||we(t))return{error:a,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),f=y(s,n),c=y(e,n);if(f&&!Array.isArray(f)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};o.pop()}return{name:t}}var Gt=(e,s,t,a)=>{t(e);const{name:o,...n}=e;return B(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(f=>s[f]===(!a||K.all))},Yt=(e,s,t)=>!e||!s||e===s||ce(e).some(a=>a&&(t?a===s:a.startsWith(s)||s.startsWith(a))),Jt=(e,s,t,a,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(s||e):(t?a.isOnBlur:o.isOnBlur)?!e:(t?a.isOnChange:o.isOnChange)?e:!0,Qt=(e,s)=>!Ne(y(e,s)).length&&p(e,s),Xt=(e,s,t)=>{const a=ce(y(e,t));return D(a,"root",s[t]),D(e,t,a),e},be=e=>J(e);function nt(e,s,t="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||W(e)&&!e)return{type:t,message:be(e)?e:"",ref:s}}var le=e=>L(e)&&!xe(e)?e:{value:e,message:""},lt=async(e,s,t,a,o,n)=>{const{ref:f,refs:c,required:b,maxLength:T,minLength:V,min:S,max:h,pattern:Z,validate:H,name:E,valueAsNumber:k,mount:Q}=e._f,v=y(t,E);if(!Q||s.has(E))return{};const $=c?c[0]:f,U=_=>{o&&$.reportValidity&&($.setCustomValidity(W(_)?"":_||""),$.reportValidity())},M={},ge=We(f),ee=me(f),Ee=ge||ee,j=(k||Be(f))&&I(f.value)&&I(v)||Fe(f)&&f.value===""||v===""||Array.isArray(v)&&!v.length,ie=Wt.bind(null,E,a,M),G=(_,A,C,N=X.maxLength,P=X.minLength)=>{const Y=_?A:C;M[E]={type:_?N:P,message:Y,ref:f,...ie(_?N:P,Y)}};if(n?!Array.isArray(v)||!v.length:b&&(!Ee&&(j||O(v))||W(v)&&!v||ee&&!bt(c).isValid||ge&&!Ft(c).isValid)){const{value:_,message:A}=be(b)?{value:!!b,message:b}:le(b);if(_&&(M[E]={type:X.required,message:A,ref:$,...ie(X.required,A)},!a))return U(A),M}if(!j&&(!O(S)||!O(h))){let _,A;const C=le(h),N=le(S);if(!O(v)&&!isNaN(v)){const P=f.valueAsNumber||v&&+v;O(C.value)||(_=P>C.value),O(N.value)||(A=P<N.value)}else{const P=f.valueAsDate||new Date(v),Y=he=>new Date(new Date().toDateString()+" "+he),ue=f.type=="time",ne=f.type=="week";J(C.value)&&v&&(_=ue?Y(v)>Y(C.value):ne?v>C.value:P>new Date(C.value)),J(N.value)&&v&&(A=ue?Y(v)<Y(N.value):ne?v<N.value:P<new Date(N.value))}if((_||A)&&(G(!!_,C.message,N.message,X.max,X.min),!a))return U(M[E].message),M}if((T||V)&&!j&&(J(v)||n&&Array.isArray(v))){const _=le(T),A=le(V),C=!O(_.value)&&v.length>+_.value,N=!O(A.value)&&v.length<+A.value;if((C||N)&&(G(C,_.message,A.message),!a))return U(M[E].message),M}if(Z&&!j&&J(v)){const{value:_,message:A}=le(Z);if(xe(_)&&!v.match(_)&&(M[E]={type:X.pattern,message:A,ref:f,...ie(X.pattern,A)},!a))return U(A),M}if(H){if(z(H)){const _=await H(v,t),A=nt(_,$);if(A&&(M[E]={...A,...ie(X.validate,A.message)},!a))return U(A.message),M}else if(L(H)){let _={};for(const A in H){if(!B(_)&&!a)break;const C=nt(await H[A](v,t),$,A);C&&(_={...C,...ie(A,C.message)},U(C.message),a&&(M[E]=_))}if(!B(_)&&(M[E]={ref:$,..._},!a))return M}}return U(!0),M};const Zt={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function er(e={}){let s={...Zt,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},o=L(s.defaultValues)||L(s.values)?R(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:R(o),f={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,T=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...V};const h={array:Xe(),state:Xe()},Z=s.criteriaMode===K.all,H=r=>i=>{clearTimeout(T),T=setTimeout(r,i)},E=async r=>{if(!s.disabled&&(V.isValid||S.isValid||r)){const i=s.resolver?B((await ee()).errors):await j(a,!0);i!==t.isValid&&h.state.next({isValid:i})}},k=(r,i)=>{!s.disabled&&(V.isValidating||V.validatingFields||S.isValidating||S.validatingFields)&&((r||Array.from(c.mount)).forEach(l=>{l&&(i?D(t.validatingFields,l,i):p(t.validatingFields,l))}),h.state.next({validatingFields:t.validatingFields,isValidating:!B(t.validatingFields)}))},Q=(r,i=[],l,m,d=!0,u=!0)=>{if(m&&l&&!s.disabled){if(f.action=!0,u&&Array.isArray(y(a,r))){const g=l(y(a,r),m.argA,m.argB);d&&D(a,r,g)}if(u&&Array.isArray(y(t.errors,r))){const g=l(y(t.errors,r),m.argA,m.argB);d&&D(t.errors,r,g),Qt(t.errors,r)}if((V.touchedFields||S.touchedFields)&&u&&Array.isArray(y(t.touchedFields,r))){const g=l(y(t.touchedFields,r),m.argA,m.argB);d&&D(t.touchedFields,r,g)}(V.dirtyFields||S.dirtyFields)&&(t.dirtyFields=de(o,n)),h.state.next({name:r,isDirty:G(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(n,r,i)},v=(r,i)=>{D(t.errors,r,i),h.state.next({errors:t.errors})},$=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},U=(r,i,l,m)=>{const d=y(a,r);if(d){const u=y(n,r,I(l)?y(o,r):l);I(u)||m&&m.defaultChecked||i?D(n,r,i?u:rt(d._f)):C(r,u),f.mount&&E()}},M=(r,i,l,m,d)=>{let u=!1,g=!1;const x={name:r};if(!s.disabled){if(!l||m){(V.isDirty||S.isDirty)&&(g=t.isDirty,t.isDirty=x.isDirty=G(),u=g!==x.isDirty);const w=re(y(o,r),i);g=!!y(t.dirtyFields,r),w?p(t.dirtyFields,r):D(t.dirtyFields,r,!0),x.dirtyFields=t.dirtyFields,u=u||(V.dirtyFields||S.dirtyFields)&&g!==!w}if(l){const w=y(t.touchedFields,r);w||(D(t.touchedFields,r,l),x.touchedFields=t.touchedFields,u=u||(V.touchedFields||S.touchedFields)&&w!==l)}u&&d&&h.state.next(x)}return u?x:{}},ge=(r,i,l,m)=>{const d=y(t.errors,r),u=(V.isValid||S.isValid)&&W(i)&&t.isValid!==i;if(s.delayError&&l?(b=H(()=>v(r,l)),b(s.delayError)):(clearTimeout(T),b=null,l?D(t.errors,r,l):p(t.errors,r)),(l?!re(d,l):d)||!B(m)||u){const g={...m,...u&&W(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...g},h.state.next(g)}},ee=async r=>{k(r,!0);const i=await s.resolver(n,s.context,jt(r||c.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return k(r),i},Ee=async r=>{const{errors:i}=await ee(r);if(r)for(const l of r){const m=y(i,l);m?D(t.errors,l,m):p(t.errors,l)}else t.errors=i;return i},j=async(r,i,l={valid:!0})=>{for(const m in r){const d=r[m];if(d){const{_f:u,...g}=d;if(u){const x=c.array.has(u.name),w=d._f&&Kt(d._f);w&&V.validatingFields&&k([m],!0);const q=await lt(d,c.disabled,n,Z,s.shouldUseNativeValidation&&!i,x);if(w&&V.validatingFields&&k([m]),q[u.name]&&(l.valid=!1,i))break;!i&&(y(q,u.name)?x?Xt(t.errors,q,u.name):D(t.errors,u.name,q[u.name]):p(t.errors,u.name))}!B(g)&&await j(g,i,l)}}return l.valid},ie=()=>{for(const r of c.unMount){const i=y(a,r);i&&(i._f.refs?i._f.refs.every(l=>!Me(l)):!Me(i._f.ref))&&ke(r)}c.unMount=new Set},G=(r,i)=>!s.disabled&&(r&&i&&D(n,r,i),!re(he(),o)),_=(r,i,l)=>mt(r,c,{...f.mount?n:I(i)?o:J(r)?{[r]:i}:i},l,i),A=r=>Ne(y(f.mount?n:o,r,s.shouldUnregister?y(o,r,[]):[])),C=(r,i,l={})=>{const m=y(a,r);let d=i;if(m){const u=m._f;u&&(!u.disabled&&D(n,r,_t(i,u)),d=Fe(u.ref)&&O(i)?"":i,gt(u.ref)?[...u.ref.options].forEach(g=>g.selected=d.includes(g.value)):u.refs?me(u.ref)?u.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(x=>x===g.value):g.checked=d===g.value||!!d)}):u.refs.forEach(g=>g.checked=g.value===d):Be(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||h.state.next({name:r,values:R(n)})))}(l.shouldDirty||l.shouldTouch)&&M(r,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ne(r)},N=(r,i,l)=>{for(const m in i){if(!i.hasOwnProperty(m))return;const d=i[m],u=r+"."+m,g=y(a,u);(c.array.has(r)||L(d)||g&&!g._f)&&!ae(d)?N(u,d,l):C(u,d,l)}},P=(r,i,l={})=>{const m=y(a,r),d=c.array.has(r),u=R(i);D(n,r,u),d?(h.array.next({name:r,values:R(n)}),(V.isDirty||V.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&h.state.next({name:r,dirtyFields:de(o,n),isDirty:G(r,u)})):m&&!m._f&&!O(u)?N(r,u,l):C(r,u,l),at(r,c)&&h.state.next({...t}),h.state.next({name:f.mount?r:void 0,values:R(n)})},Y=async r=>{f.mount=!0;const i=r.target;let l=i.name,m=!0;const d=y(a,l),u=w=>{m=Number.isNaN(w)||ae(w)&&isNaN(w.getTime())||re(w,y(n,l,w))},g=st(s.mode),x=st(s.reValidateMode);if(d){let w,q;const ve=i.type?rt(d._f):dt(r),te=r.type===_e.BLUR||r.type===_e.FOCUS_OUT,It=!zt(d._f)&&!s.resolver&&!y(t.errors,l)&&!d._f.deps||Jt(te,y(t.touchedFields,l),t.isSubmitted,x,g),Le=at(l,c,te);D(n,l,ve),te?(d._f.onBlur&&d._f.onBlur(r),b&&b(0)):d._f.onChange&&d._f.onChange(r);const pe=M(l,ve,te),Lt=!B(pe)||Le;if(!te&&h.state.next({name:l,type:r.type,values:R(n)}),It)return(V.isValid||S.isValid)&&(s.mode==="onBlur"?te&&E():te||E()),Lt&&h.state.next({name:l,...Le?{}:pe});if(!te&&Le&&h.state.next({...t}),s.resolver){const{errors:Je}=await ee([l]);if(u(ve),m){const pt=ot(t.errors,a,l),Qe=ot(Je,a,pt.name||l);w=Qe.error,l=Qe.name,q=B(Je)}}else k([l],!0),w=(await lt(d,c.disabled,n,Z,s.shouldUseNativeValidation))[l],k([l]),u(ve),m&&(w?q=!1:(V.isValid||S.isValid)&&(q=await j(a,!0)));m&&(d._f.deps&&ne(d._f.deps),ge(l,q,w,pe))}},ue=(r,i)=>{if(y(t.errors,i)&&r.focus)return r.focus(),1},ne=async(r,i={})=>{let l,m;const d=ce(r);if(s.resolver){const u=await Ee(I(r)?r:d);l=B(u),m=r?!d.some(g=>y(u,g)):l}else r?(m=(await Promise.all(d.map(async u=>{const g=y(a,u);return await j(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&E()):m=l=await j(a);return h.state.next({...!J(r)||(V.isValid||S.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),i.shouldFocus&&!m&&ye(a,ue,r?d:c.mount),m},he=r=>{const i={...f.mount?n:o};return I(r)?i:J(r)?y(i,r):r.map(l=>y(i,l))},qe=(r,i)=>({invalid:!!y((i||t).errors,r),isDirty:!!y((i||t).dirtyFields,r),error:y((i||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((i||t).touchedFields,r)}),At=r=>{r&&ce(r).forEach(i=>p(t.errors,i)),h.state.next({errors:r?t.errors:{}})},He=(r,i,l)=>{const m=(y(a,r,{_f:{}})._f||{}).ref,d=y(t.errors,r)||{},{ref:u,message:g,type:x,...w}=d;D(t.errors,r,{...w,...i,ref:m}),h.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},wt=(r,i)=>z(r)?h.state.subscribe({next:l=>r(_(void 0,i),l)}):_(r,i,!0),$e=r=>h.state.subscribe({next:i=>{Yt(r.name,i.name,r.exact)&&Gt(i,r.formState||V,Ct,r.reRenderRoot)&&r.callback({values:{...n},...t,...i})}}).unsubscribe,Dt=r=>(f.mount=!0,S={...S,...r.formState},$e({...r,formState:S})),ke=(r,i={})=>{for(const l of r?ce(r):c.mount)c.mount.delete(l),c.array.delete(l),i.keepValue||(p(a,l),p(n,l)),!i.keepError&&p(t.errors,l),!i.keepDirty&&p(t.dirtyFields,l),!i.keepTouched&&p(t.touchedFields,l),!i.keepIsValidating&&p(t.validatingFields,l),!s.shouldUnregister&&!i.keepDefaultValue&&p(o,l);h.state.next({values:R(n)}),h.state.next({...t,...i.keepDirty?{isDirty:G()}:{}}),!i.keepIsValid&&E()},je=({disabled:r,name:i})=>{(W(r)&&f.mount||r||c.disabled.has(i))&&(r?c.disabled.add(i):c.disabled.delete(i))},Ce=(r,i={})=>{let l=y(a,r);const m=W(i.disabled)||W(s.disabled);return D(a,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...i}}),c.mount.add(r),l?je({disabled:W(i.disabled)?i.disabled:s.disabled,name:r}):U(r,!0,i.value),{...m?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:fe(i.min),max:fe(i.max),minLength:fe(i.minLength),maxLength:fe(i.maxLength),pattern:fe(i.pattern)}:{},name:r,onChange:Y,onBlur:Y,ref:d=>{if(d){Ce(r,i),l=y(a,r);const u=I(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=qt(u),x=l._f.refs||[];if(g?x.find(w=>w===u):u===l._f.ref)return;D(a,r,{_f:{...l._f,...g?{refs:[...x.filter(Me),u,...Array.isArray(y(o,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),U(r,!1,void 0,u)}else l=y(a,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(ft(c.array,r)&&f.action)&&c.unMount.add(r)}}},Ie=()=>s.shouldFocusError&&ye(a,ue,c.mount),St=r=>{W(r)&&(h.state.next({disabled:r}),ye(a,(i,l)=>{const m=y(a,l);m&&(i.disabled=m._f.disabled||r,Array.isArray(m._f.refs)&&m._f.refs.forEach(d=>{d.disabled=m._f.disabled||r}))},0,!1))},Ke=(r,i)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=R(n);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:g}=await ee();t.errors=u,d=R(g)}else await j(a);if(c.disabled.size)for(const u of c.disabled)p(d,u);if(p(t.errors,"root"),B(t.errors)){h.state.next({errors:{}});try{await r(d,l)}catch(u){m=u}}else i&&await i({...t.errors},l),Ie(),setTimeout(Ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Et=(r,i={})=>{y(a,r)&&(I(i.defaultValue)?P(r,R(y(o,r))):(P(r,i.defaultValue),D(o,r,R(i.defaultValue))),i.keepTouched||p(t.touchedFields,r),i.keepDirty||(p(t.dirtyFields,r),t.isDirty=i.defaultValue?G(r,R(y(o,r))):G()),i.keepError||(p(t.errors,r),V.isValid&&E()),h.state.next({...t}))},ze=(r,i={})=>{const l=r?R(r):o,m=R(l),d=B(r),u=d?o:m;if(i.keepDefaultValues||(o=l),!i.keepValues){if(i.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(de(o,n))]);for(const x of Array.from(g))y(t.dirtyFields,x)?D(u,x,y(n,x)):P(x,y(u,x))}else{if(Te&&I(r))for(const g of c.mount){const x=y(a,g);if(x&&x._f){const w=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Fe(w)){const q=w.closest("form");if(q){q.reset();break}}}}if(i.keepFieldsRef)for(const g of c.mount)P(g,y(u,g));else a={}}n=s.shouldUnregister?i.keepDefaultValues?R(o):{}:R(u),h.array.next({values:{...u}}),h.state.next({values:{...u}})}c={mount:i.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!V.isValid||!!i.keepIsValid||!!i.keepDirtyValues,f.watch=!!s.shouldUnregister,h.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:d?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!re(r,o)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:i.keepDirtyValues?i.keepDefaultValues&&n?de(o,n):t.dirtyFields:i.keepDefaultValues&&r?de(o,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(r,i)=>ze(z(r)?r(n):r,i),kt=(r,i={})=>{const l=y(a,r),m=l&&l._f;if(m){const d=m.refs?m.refs[0]:m.ref;d.focus&&(d.focus(),i.shouldSelect&&z(d.select)&&d.select())}},Ct=r=>{t={...t,...r}},Ye={control:{register:Ce,unregister:ke,getFieldState:qe,handleSubmit:Ke,setError:He,_subscribe:$e,_runSchema:ee,_focusError:Ie,_getWatch:_,_getDirty:G,_setValid:E,_setFieldArray:Q,_setDisabledField:je,_setErrors:$,_getFieldArray:A,_reset:ze,_resetDefaultValues:()=>z(s.defaultValues)&&s.defaultValues().then(r=>{Ge(r,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:ie,_disableForm:St,_subjects:h,_proxyFormState:V,get _fields(){return a},get _formValues(){return n},get _state(){return f},set _state(r){f=r},get _defaultValues(){return o},get _names(){return c},set _names(r){c=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:Dt,trigger:ne,register:Ce,handleSubmit:Ke,watch:wt,setValue:P,getValues:he,reset:Ge,resetField:Et,clearErrors:At,unregister:ke,setError:He,setFocus:kt,getFieldState:qe};return{...Ye,formControl:Ye}}function xr(e={}){const s=F.useRef(void 0),t=F.useRef(void 0),[a,o]=F.useState({isDirty:!1,isValidating:!1,isLoading:z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:z(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:a},e.defaultValues&&!z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...c}=er(e);s.current={...c,formState:a}}const n=s.current.control;return n._options=e,Pe(()=>{const f=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),n._formState.isReady=!0,f},[n]),F.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),F.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),F.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),F.useEffect(()=>{if(n._proxyFormState.isDirty){const f=n._getDirty();f!==a.isDirty&&n._subjects.state.next({isDirty:f})}},[n,a.isDirty]),F.useEffect(()=>{e.values&&!re(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),t.current=e.values,o(f=>({...f}))):n._resetDefaultValues()},[n,e.values]),F.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=ct(a,n),s.current}const Ar=Ot,Vt=oe.createContext({}),tr=({...e})=>se.jsx(Vt.Provider,{value:{name:e.name},children:se.jsx(Bt,{...e})}),Se=()=>{const e=oe.useContext(Vt),s=oe.useContext(xt),{getFieldState:t}=De(),a=yt({name:e.name}),o=t(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...o}},xt=oe.createContext({});function rr({className:e,...s}){const t=oe.useId();return se.jsx(xt.Provider,{value:{id:t},children:se.jsx("div",{"data-slot":"form-item",className:Ae("grid gap-1",e),...s})})}function sr({className:e,...s}){const{error:t,formItemId:a}=Se();return se.jsx(Rt,{"data-slot":"form-label","data-error":!!t,className:Ae("text-ui-label-base text-text-pr peer-disabled:cursor-not-allowed peer-disabled:opacity-70","data-[error=true]:text-text-amist",e),htmlFor:a,...s})}function ir({...e}){const{error:s,formItemId:t,formDescriptionId:a,formMessageId:o}=Se();return se.jsx(Mt,{"data-slot":"form-control",id:t,"aria-describedby":s?`${a} ${o}`:`${a}`,"aria-invalid":!!s,...e})}function ar({className:e,...s}){const{formDescriptionId:t}=Se();return se.jsx("p",{"data-slot":"form-description",id:t,className:Ae("text-text-ter text-sm",e),...s})}function or({className:e,...s}){const{error:t,formMessageId:a}=Se(),o=t?String((t==null?void 0:t.message)??""):s.children;return o?se.jsx("p",{"data-slot":"form-message",id:a,className:Ae("text-text-amist text-sm",e),...s,children:o}):null}rr.__docgenInfo={description:"",methods:[],displayName:"FormItem"};sr.__docgenInfo={description:"",methods:[],displayName:"FormLabel"};ir.__docgenInfo={description:"",methods:[],displayName:"FormControl"};ar.__docgenInfo={description:"",methods:[],displayName:"FormDescription"};or.__docgenInfo={description:"",methods:[],displayName:"FormMessage"};tr.__docgenInfo={description:"",methods:[],displayName:"FormField"};export{Ar as F,Wt as a,tr as b,rr as c,sr as d,ir as e,ar as f,y as g,or as h,D as s,xr as u};
